<?php

$operations = array(
  'data-addition-fc' => array('func' => 'data-addition',
                              'opt' => array('results' => array('FC'),
                                             'operands' => array('EY', 'EZ', 'FA', 'FB'))),
  'only-one-checked-dd-de-df' => array('function' => 'data-check-set-unchecked',
                                       'args' => array('fields' => array('tva3519_20140101_DD', 'tva3519_20140101_DE', 'tva3519_20140101_DF'))),
  'only-one-checked-di-dj-dk' => array('function' => 'data-check-set-unchecked',
                                       'args' => array('fields' => array('tva3519_20140101_DI', 'tva3519_20140101_DJ', 'tva3519_20140101_DK'))),


  'data-integrity-3519-20140101' => array('func' => 'data-integrity-3519-20140101'),

);

$operations['only-one-checked-dd-de-df'];
$operations['only-one-checked-di-dj-dk'];

$form["tva3519_20140101"] = array(
  'integrity-3519-20140101' => array('operations' => array($operations['data-integrity-3519-20140101'])),
  'DC1' => array('type' => 'alphabetic',
                 'length' => 35,
                 'operations' => array(array('func' => 'data-paiement_3519'))
  ),
  'DC2' => array('type' => 'alphabetic',
                 'length' => 35,
  ),
  'DC3' => array('type' => 'alphabetic',
                 'length' => 35,
  ),
  'DC4' => array('type' => 'alphabetic',
                 'length' => 35,
  ),
  'DC5' => array('type' => 'alphabetic',
                 'length' => 35,
  ),
  'DC6' => array('type' => 'alphabetic',
                 'length' => 35,
  ),
  'DC7' => array('type' => 'alphabetic',
                 'length' => 5,
  ),
  'DC8' => array('type' => 'select',
                 'length' => 3,
                 'options' => Country::collect()->asHash('iso3_code', 'name'),
  ),
  'DC9' => array('type' => 'alphabetic',
                 'length' => 512,
  ),
  'DC10' => array('type' => 'alphabetic',
                  'length' => 512,
  ),
  'DD' => array('type' => 'checkbox',
                'value' => '1',
                'operations' => array($operations['only-one-checked-dd-de-df'],
                                      array('func' => 'data-check-set-unchecked',
                                            'opt' => array('results' => array('DE', 'DF'), 'operands' => array('DD')))),
  ),
  'DE' => array('type' => 'checkbox',
                'value' => '1',
                'operations' => array(array('func' => 'data-check-set-zero',
                                            'opt' => array('results' => array('DF'), 'operands' => array('DC1', 'DC2', 'DC3', 'DC4', 'DC5', 'DC6', 'DC7', 'DC8', 'DC9', 'DC10'))),
                                      $operations['only-one-checked-dd-de-df'],
                                      array('func' => 'data-check-set-unchecked',
                                            'opt' => array('results' => array('DD', 'DF', 'DC1'), 'operands' => array('DE')))),
  ),
  'DF' => array('type' => 'checkbox',
                'value' => '1',
                'operations' => array(array('func' => 'data-check-full',
                                            'opt' => array('results' => array('DF'), 'operands' => array('DC1', 'DC2', 'DC3', 'DC4', 'DC5', 'DC6', 'DC7', 'DC8', 'DC9', 'DC10'))),
                                      $operations['only-one-checked-dd-de-df'],
                                      array('func' => 'data-check-set-unchecked',
                                            'opt' => array('results' => array('DE', 'DD'), 'operands' => array('DF')))),
  ),
  'DG1' => array('type' => 'alphabetic',
                 'required' => true,
                 'length' => 35,
  ),
  'DG2' => array('type' => 'alphabetic',
                 'required' => true,
                 'length' => 35,
  ),
  'DG3' => array('type' => 'alphabetic',
                 'required' => true,
                 'length' => 35,
  ),
  'DG4' => array('type' => 'alphabetic',
                 'required' => true,
                 'length' => 35,
  ),
  'DH' => array('type' => 'number',
                'required' => true,
                'operations' => array(array('func' => 'data-check-positiv-one-item',
                                            'opt' => array('items' => array('DH')))),
  ),
  'DN' => array('type' => 'number',
                'required' => true,
                'operations' => array(array('func' => 'data-check-positiv-one-item',
                                            'opt' => array('items' => array('DN')))),
  ),
  'FK' => array('type' => 'checkbox',
                'value' => '1',
  ),
  'FL' => array('type' => 'checkbox',
                'value' => '1',
  ),
  'AA1' => array('type' => 'number',
                 'length' => 15,
  ),
  'AA2' => array('type' => 'number',
                 'length' => 27,
  ),
  'AA3' => array('type' => 'alphabetic',
                 'length' => 35,
  ),
  'AA4' => array('type' => 'alphabetic',
                 'length' => 35,
  ),
  'DI' => array('type' => 'checkbox',
                'operations' => array(array('func' => 'data-check-full',
                                            'opt' => array('results' => array('DI'), 'operands' => array('AA1', 'AA2', 'AA3', 'AA4'))),
                                      $operations['only-one-checked-di-dj-dk'],
                                      array('func' => 'data-check-full',
                                            'opt' => array('results' => array('DI'), 'operands' => array('DL'))))
  ),
  'DL' => array('type' => 'date-ssaammjj',
  ),
  'DJ' => array('type' => 'checkbox',
                'operations' => array(array('func' => 'data-check-full',
                                            'opt' => array('results' => array('DJ'), 'operands' => array('DM'))),
                                      $operations['only-one-checked-di-dj-dk'])
  ),
  'DM' => array('type' => 'date-ssaammjj'
  ),
  'DK' => array('type' => 'checkbox',
                'value' => '1',
                'operations' => array($operations['only-one-checked-di-dj-dk'],
                                      array('func' => 'data-empty-and-desactive',
                                            'opt' => array('results' => array('DK'), 'operands' => array('AA1', 'AA2', 'AA3', 'AA4')))),
  ),
  'FJ' => array('type' => 'comments',
                'length' => 2560,
  ),
  'FJ1' => array('type' => 'hidden',
                 'length' => 512,
  ),
  'FJ2' => array('type' => 'hidden',
                 'length' => 512,
  ),
  'FJ3' => array('type' => 'hidden',
                 'length' => 512,
  ),
  'FJ4' => array('type' => 'hidden',
                 'length' => 512,
  ),
  'FJ5' => array('type' => 'hidden',
                 'length' => 512,
  ),
);
  
