<?php

$operations = array(
  'data-addition-ea' => array('func' => 'data-addition',
                              'opt' => array('results' => array('EA',),
                                             'operands' => array('AA', 'BA', 'CA', 'DA'))
  ),
  'data-addition-eb' => array('func' => 'data-addition',
                              'opt' => array('results' => array('EB'),
                                             'operands' => array('AB', 'BB', 'CB', 'DB'))
  ),
  'data-addition-ec' => array('func' => 'data-addition',
                              'opt' => array('results' => array('EC'),
                                             'operands' => array('AC', 'BC', 'CC', 'DC'))
  ),
  'data-addition-ed' => array('func' => 'data-addition',
                              'opt' => array('results' => array('ED'),
                                             'operands' => array('AD', 'BD', 'CD', 'DD'))
  ),
  'data-addition-ee' => array('func' => 'data-addition',
                              'opt' => array('results' => array('EE'),
                                             'operands' => array('AE', 'BE', 'CE', 'DE'))
  ),
  'data-addition-ak' => array('func' => 'data-addition',
                              'opt' => array('results' => array('AK'),
                                             'operands' => array('AF', 'AG', 'AH', 'AI', 'AJ', 'AO'))
  ),
  'data-addition-bk' => array('func' => 'data-addition',
                              'opt' => array('results' => array('BK'),
                                             'operands' => array('BF', 'BG', 'BH', 'BI', 'BJ', 'BO'))
  ),
  'data-addition-ck' => array('func' => 'data-addition',
                              'opt' => array('results' => array('CK'),
                                             'operands' => array('CF', 'CG', 'CH', 'CI', 'CJ', 'CO'))
  ),
  'data-addition-dk' => array('func' => 'data-addition',
                              'opt' => array('results' => array('DK'),
                                             'operands' => array('DF', 'DG', 'DH', 'DI', 'DJ', 'DO'))
  ),
  'data-addition-ek' => array('func' => 'data-addition',
                              'opt' => array('results' => array('EK'),
                                             'operands' => array('EF', 'EG', 'EH', 'EI', 'EJ', 'EO'))
  ),
  'data-addition-em' => array('func' => 'data-addition',
                              'opt' => array('results' => array('EM'),
                                             'operands' => array('AM', 'BM', 'CM', 'DM'))
  ),
  'data-taxe-nette-due' => array('func' => 'data-taxe-nette-due',
                                 'opt' => array('items' => array('FD', 'EM', 'FA', 'FB', 'FC')),
  ),
  /*'data-abattement_201412' => array('func' => 'data-abattement-201412',
                             'opt' => array('items' => array('FC', 'EM', 'FA', 'FB')),
  ),*/
  'data-soustraction-ga' => array('func' => 'data-soustraction',
                                  'opt' => array('results' => array('GA'),
                                                 'value' => 'FD',
                                                 'operands' => array('FE'),
                                                 'args' => array(0)),
  ),
  'data-soustraction-gb' => array('func' => 'data-soustraction',
                                  'opt' => array('results' => array('GB'),
                                                 'value' => 'FE',
                                                 'operands' => array('FD'),
                                                 'args' => array(0)),
  ),
  'data-addition-en' => array('func' => 'data-addition',
                              'opt' => array('results' => array('EN'),
                                             'operands' => array('AN', 'BN', 'CN', 'DN'))
  ),
  'max_20161' => array('function' => 'equation',
                      'args' => array('left' => array('FC'),
                                      'operator' => '<=',
                                      'right' => array('20161'))
  ),
);


$form["ts2502_201412"] = array(
  'AA' => array('type' => 'number', 'operations' => array($operations['data-addition-ea'], array('func' => 'data-calcul-425', 'opt' => array('results' => array('AF'), 'operands' => array('AA'))),),),
  'BA' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-ea'], 1 => array('func' => 'data-calcul-425', 'opt' => array('results' => array('BF'), 'operands' => array('BA'))),),),
  'CA' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-ea'], 1 => array('func' => 'data-calcul-425', 'opt' => array('results' => array('CF'), 'operands' => array('CA'))),),),
  'DA' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-ea'], 1 => array('func' => 'data-calcul-425', 'opt' => array('results' => array('DF'), 'operands' => array('DA'))),),),
  'EA' => array('type' => 'number', 'operations' => array(0 => array('func' => 'data-calcul-425', 'opt' => array('results' => array('EF'), 'operands' => array('EA'))),),),
  'AB' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-eb'], 1 => array('func' => 'data-calcul-425', 'opt' => array('results' => array('AG'), 'operands' => array('AB'))),),),
  'BB' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-eb'], 1 => array('func' => 'data-calcul-425', 'opt' => array('results' => array('BG'), 'operands' => array('BB'))),),),
  'CB' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-eb'], 1 => array('func' => 'data-calcul-425', 'opt' => array('results' => array('CG'), 'operands' => array('CB'))),),),
  'DB' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-eb'], 1 => array('func' => 'data-calcul-425', 'opt' => array('results' => array('DG'), 'operands' => array('DB'))),),),
  'EB' => array('type' => 'number', 'operations' => array(0 => array('func' => 'data-calcul-425', 'opt' => array('results' => array('EG'), 'operands' => array('EB'))),),),
  'AC' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-ec'], 1 => array('func' => 'data-calcul-935', 'opt' => array('results' => array('AH'), 'operands' => array('AC'))),),),
  'BC' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-ec'], 1 => array('func' => 'data-calcul-935', 'opt' => array('results' => array('BH'), 'operands' => array('BC'))),),),
  'CC' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-ec'], 1 => array('func' => 'data-calcul-935', 'opt' => array('results' => array('CH'), 'operands' => array('CC'))),),),
  'DC' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-ec'], 1 => array('func' => 'data-calcul-935', 'opt' => array('results' => array('DH'), 'operands' => array('DC'))),),),
  'EC' => array('type' => 'number', 'operations' => array(0 => array('func' => 'data-calcul-935', 'opt' => array('results' => array('EH'), 'operands' => array('EC'))),),),
  'AD' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-ed'], 1 => array('func' => 'data-calcul-295', 'opt' => array('results' => array('AI'), 'operands' => array('AD'))),),),
  'BD' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-ed'], 1 => array('func' => 'data-calcul-295', 'opt' => array('results' => array('BI'), 'operands' => array('BD'))),),),
  'CD' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-ed'], 1 => array('func' => 'data-calcul-295', 'opt' => array('results' => array('CI'), 'operands' => array('CD'))),),),
  'DD' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-ed'], 1 => array('func' => 'data-calcul-295', 'opt' => array('results' => array('DI'), 'operands' => array('DD'))),),),
  'ED' => array('type' => 'number', 'operations' => array(0 => array('func' => 'data-calcul-295', 'opt' => array('results' => array('EI'), 'operands' => array('ED'))),),),
  'AE' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-ee'], 1 => array('func' => 'data-calcul-255', 'opt' => array('results' => array('AJ'), 'operands' => array('AE'))),),),
  'BE' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-ee'], 1 => array('func' => 'data-calcul-255', 'opt' => array('results' => array('BJ'), 'operands' => array('BE'))),),),
  'CE' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-ee'], 1 => array('func' => 'data-calcul-255', 'opt' => array('results' => array('CJ'), 'operands' => array('CE'))),),),
  'DE' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-ee'], 1 => array('func' => 'data-calcul-255', 'opt' => array('results' => array('DJ'), 'operands' => array('DE'))),),),
  'EE' => array('type' => 'number', 'operations' => array(0 => array('func' => 'data-calcul-255', 'opt' => array('results' => array('EJ'), 'operands' => array('EE'))),),),
  'AF' => array('type' => 'number', 'operations' => array($operations['data-addition-ak'],),),
  'BF' => array('type' => 'number', 'operations' => array($operations['data-addition-bk'],),),
  'CF' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-ck'],),),
  'DF' => array('type' => 'number', 'operations' => array($operations['data-addition-dk'],),),
  'EF' => array('type' => 'number', 'operations' => array($operations['data-addition-ek'],),),
  'AG' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-ak'],),),
  'BG' => array('type' => 'number', 'operations' => array($operations['data-addition-bk'],),),
  'CG' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-ck'],),),
  'DG' => array('type' => 'number', 'operations' => array($operations['data-addition-dk'],),),
  'EG' => array('type' => 'number', 'operations' => array($operations['data-addition-ek'],),),
  'AH' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-ak'],),),
  'BH' => array('type' => 'number', 'operations' => array($operations['data-addition-bk'],),),
  'CH' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-ck'],),),
  'DH' => array('type' => 'number', 'operations' => array($operations['data-addition-dk'],),),
  'EH' => array('type' => 'number', 'operations' => array($operations['data-addition-ek'],),),
  'AI' => array('type' => 'number', 'operations' => array($operations['data-addition-ak'],),),
  'BI' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-bk'],),),
  'CI' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-ck'],),),
  'DI' => array('type' => 'number', 'operations' => array($operations['data-addition-dk'],),),
  'EI' => array('type' => 'number', 'operations' => array($operations['data-addition-ek'],),),
  'AJ' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-ak'],),),
  'BJ' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-bk'],),),
  'CJ' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-ck'],),),
  'DJ' => array('type' => 'number', 'operations' => array($operations['data-addition-dk'],),),
  'EJ' => array('type' => 'number', 'operations' => array($operations['data-addition-ek'],),),
  'AK' => array('type' => 'number', 'operations' => array(0 => array('func' => 'data-multpercent', 'opt' => array('results' => array(0 => 'AM',), 'value' => 'AK', 'operands' => array(0 => 'AL',),),), 1 => array('func' => 'data-ts-value-percent', 'opt' => array('items' => array(0 => 'AK', 1 => 'AL',),),),),),
  'BK' => array('type' => 'number', 'operations' => array(1 => array('func' => 'data-multpercent', 'opt' => array('results' => array(0 => 'BM',), 'value' => 'BK', 'operands' => array(0 => 'BL',),),), 2 => array('func' => 'data-ts-value-percent', 'opt' => array('items' => array(0 => 'BK', 1 => 'BL',),),),),),
  'CK' => array('type' => 'number', 'operations' => array(2 => array('func' => 'data-multpercent', 'opt' => array('results' => array(0 => 'CM',), 'value' => 'CK', 'operands' => array(0 => 'CL',),),), 3 => array('func' => 'data-ts-value-percent', 'opt' => array('items' => array(0 => 'CK', 1 => 'CL',),),),),),
  'DK' => array('type' => 'number', 'operations' => array(2 => array('func' => 'data-multpercent', 'opt' => array('results' => array(0 => 'DM',), 'value' => 'DK', 'operands' => array(0 => 'DL',),),), 3 => array('func' => 'data-ts-value-percent', 'opt' => array('items' => array(0 => 'DK', 1 => 'DL',),),),),),
  'EK' => array('type' => 'number',),
  'AL' => array('type' => 'pourcentage', 'operations' => array(0 => array('func' => 'data-multpercent', 'opt' => array('results' => array(0 => 'AM',), 'value' => 'AK', 'operands' => array(0 => 'AL',),),), 1 => $operations['data-addition-ek'], 2 => array('func' => 'data-ts-value-percent', 'opt' => array('items' => array(0 => 'AK', 1 => 'AL',),),),),),
  'BL' => array('type' => 'pourcentage', 'operations' => array(0 => array('func' => 'data-multpercent', 'opt' => array('results' => array(0 => 'BM',), 'value' => 'BK', 'operands' => array(0 => 'BL',),),), 1 => array('func' => 'data-ts-value-percent', 'opt' => array('items' => array(0 => 'BK', 1 => 'BL',),),),),),
  'CL' => array('type' => 'pourcentage', 'operations' => array(0 => array('func' => 'data-ts-value-percent', 'opt' => array('items' => array(0 => 'CK', 1 => 'CL',),),), 1 => array('func' => 'data-multpercent', 'opt' => array('results' => array(0 => 'CM',), 'value' => 'CK', 'operands' => array(0 => 'CL',),),),),),
  'DL' => array('type' => 'pourcentage', 'operations' => array(0 => array('func' => 'data-ts-value-percent', 'opt' => array('items' => array(0 => 'DK', 1 => 'DL',),),), 1 => array('func' => 'data-multpercent', 'opt' => array('results' => array(0 => 'DM',), 'value' => 'DK', 'operands' => array(0 => 'DL',),),),),),
  'AM' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-em'],),),
  'BM' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-em'],),),
  'CM' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-em'],),),
  'DM' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-em'],),),
  'EM' => array('type' => 'number', 'operations' => array($operations['data-taxe-nette-due'],
                                                          array('func' => 'data-franchise-decote-201412',
                                                                'opt' => array('items' => array('FA', 'FB', 'EM',),),),
                                                          array('func' => 'data-ts2502-fd',
                                                                'opt' => array('results' => array('FD',),
                                                                               'operands' => array('EM', 'FA', 'FB', 'FC',),),),),),
  'FA' => array('type' => 'number', 'operations' => array($operations['data-taxe-nette-due'],),),
  'FB' => array('type' => 'number', 'operations' => array($operations['data-taxe-nette-due']),),
  'FC' => array('type' => 'number', 'operations' => array($operations['max_20161'],
                                                          $operations['data-taxe-nette-due']),),
  'FD' => array('type' => 'number', 'operations' => array($operations['data-soustraction-ga'], $operations['data-soustraction-gb']),),
  'FE' => array('type' => 'number', 'operations' => array($operations['data-soustraction-ga'], $operations['data-soustraction-gb']),),
  'GA' => array('type' => 'number', 'operations' => array(0 => array('func' => 'data-ts2502-paiement', 'opt' => array('operands' => array('GA'),)))),
  'GB' => array('type' => 'number', 'operations' => array(0 => array('func' => 'data-ts2502-paiement', 'opt' => array('operands' => array('GA'),)))),
  'GC' => array('type' => 'number',),
  'GD' => array('type' => 'number',),
  'GE' => array('type' => 'number',),

  'AN' => array('type' => 'number', 'operations' => array($operations['data-addition-en'], array('func' => 'data-calcul-1575', 'opt' => array('results' => array('AO'), 'operands' => array('AN'))),)),
  'BN' => array('type' => 'number', 'operations' => array($operations['data-addition-en'], array('func' => 'data-calcul-1575', 'opt' => array('results' => array('BO'), 'operands' => array('BN'))),)),
  'CN' => array('type' => 'number', 'operations' => array($operations['data-addition-en'], array('func' => 'data-calcul-1575', 'opt' => array('results' => array('CO'), 'operands' => array('CN'))),)),
  'DN' => array('type' => 'number', 'operations' => array($operations['data-addition-en'], array('func' => 'data-calcul-1575', 'opt' => array('results' => array('DO'), 'operands' => array('DN'))),)),
  'EN' => array('type' => 'number', 'operations' => array(array('func' => 'data-calcul-1575', 'opt' => array('results' => array('EO'), 'operands' => array('EN'))),)),

  'AO' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-ak']),),
  'BO' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-bk']),),
  'CO' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-ck']),),
  'DO' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-dk']),),
  'EO' => array('type' => 'number', 'operations' => array(0 => $operations['data-addition-ek']),),

);
  