<?php

$operations = array(

  'integrity-id' => array('func' => 'data-integrity-id',
                          'opt' => array('items' => array('ID', 'IC'))),
  'soustraction-hc' => array('func' => 'data-soustraction',
                             'opt' => array('results' => array('HC'), 'value' => 'HA', 'operands' => array('HB'))),
  'soustraction-ic' => array('func' => 'data-soustraction',
                             'opt' => array('results' => array('IC'), 'value' => 'IB', 'operands' => array('IA'))),
  'data-tva3514-20140101-paiement' => array('func' => 'data-tva3514-20140101-paiement',
                                   'opt' => array(
                                     'operands' => array('HC'),
                                     'args' => array('t_identif_HA'))),
//  'data-integrity-3514-20140101' => array('func' => 'data-integrity-3514-20140101'),

);

$form["tva3514_20140101"] = array(
//  'integrity-3514-20140101' => array('operations' => array($operations['data-integrity-3514-20140101'])), 
  'HA' => array('type' => 'number',
                'operations' => array($operations['soustraction-hc']),
  ),
  'HB' => array('type' => 'number',
                'operations' => array($operations['soustraction-hc']),
  ),
  'HC' => array('type' => 'number',
                'required' => true,
                'operations' => array($operations['data-tva3514-20140101-paiement'],
                                      array('func' => 'data-check-positiv-one-item',
                                            'opt' => array('items' => array('HC')))),
  ),
  'DE' => array('type' => 'checkbox',
                'value' => '1',
                'operations' => array(array('func' => 'data-check-full',
                                            'opt' => array('results' => array('DE'), 'operands' => array('HA')))),
  ),
  'IA' => array('type' => 'number',
                'operations' => array($operations['soustraction-ic']),
  ),
  'IB' => array('type' => 'number',
                'operations' => array($operations['soustraction-ic']),
  ),
  'IC' => array('type' => 'number',
                'required' => true,
                'operations' => array(array('func' => 'data-check-positiv-one-item',
                                            'opt' => array('items' => array('IC')))),
  ),
  'ID' => array('type' => 'number',
//                'operations' => array($operations['integrity-id']),
  ),


  'CC' => array('type' => 'checkbox',
                'value' => '1',
                'operations' => array(array('func' => 'any_operands_all_results_required', 'opt' => array('results' => array('CB'), 'operands' => array('CC')))),
  ),
  'CA' => array('type' => 'checkbox',
  ),
  'CB' => array('type' => 'comments',
                'length' => 2560,
                'operations' => array(array('func' => 'data-check-need-and-or', 'opt' => array('results' => array('CB',), 'operands' => array('CC',),),),),
  ),
  'CB1' => array('type' => 'comments-part',
                 'length' => 512,
  ),
  'CB2' => array('type' => 'comments-part',
                 'length' => 512,
  ),
  'CB3' => array('type' => 'comments-part',
                 'length' => 512,
  ),
  'CB4' => array('type' => 'comments-part',
                 'length' => 512,
  ),
  'CB5' => array('type' => 'comments-part',
                 'length' => 512,
  ),

);
 
