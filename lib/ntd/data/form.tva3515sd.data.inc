<?php

$operations = array(
  'soustraction-bc' => array('func' => 'data-soustraction',
                             'opt' => array('results' => array('BC'), 'value' => 'BA', 'operands' => array('BB'))),
  'soustraction-bd' => array('func' => 'data-soustraction',
                             'opt' => array('results' => array('BD'), 'value' => 'BB', 'operands' => array('BA'))),
  'report-bc-bd' => array('func' => 'data-report-BC-BD',
                          'opt' => array('items' => array('CB', 'CA', 'BC', 'BD'))),
  'soustraction-da-db-3515sd' => array('func' => 'data-soustraction-da-db-3515sd',
                                       'opt' => array('items' => array('DC', 'DD', 'DA', 'DB'))),
  'if-eb-checked-ea-required' => array('func' => 'data-check-need-and-or',
                                       'opt' => array('results' => array('EA'), 'operands' => array('EB')))
);


$form["tva3515sd"] = array(
  'AA' => array('type' => 'date-ssaamm',
                'required' => true
  ),
  'AB' => array('type' => 'date-ssaamm',
                'required' => true
  ),
  'BA' => array('type' => 'number',
                'operations' => array($operations['soustraction-bc'],
                                      array('func' => 'data-tva3515sd-bc',
                                            'opt' => array('results' => array('BC'), 'operands' => array('BB', 'BA'))),
                                      $operations['soustraction-bd'],
                                      array('func' => 'data-report',
                                            'opt' => array('results' => array('DB'), 'operands' => array('BA')))),
  ),
  'BB' => array('type' => 'number',
                'operations' => array($operations['soustraction-bc'],
                                      $operations['soustraction-bd']),
  ),
  'BC' => array('type' => 'number',
                'operations' => array($operations['report-bc-bd']),
  ),
  'BD' => array('type' => 'number',
                'operations' => array($operations['report-bc-bd']),
  ),
  'CA' => array('type' => 'number',
                'operations' => array(array('func' => 'data-integrity-ca-3515sd',
                                            'opt' => array('items' => array('CA', 'BD')))),
  ),
  'CB' => array('type' => 'number',
                'operations' => array(array('func' => 'data-report',
                                            'opt' => array('results' => array('DA'), 'operands' => array('CB')))),
  ),
  'DA' => array('type' => 'number',
                'operations' => array($operations['soustraction-da-db-3515sd']),
  ),
  'DB' => array('type' => 'number',
                'operations' => array($operations['soustraction-da-db-3515sd']),
  ),
  'DC' => array('type' => 'number',
                'operations' => array(array('function' => 'copy-value',
                                            'args' => array('target' => 'tva3310ca3_KD')))
  ),
  'DD' => array('type' => 'number',
                'operations' => array(array('function' => 'copy-value',
                                            'args' => array('target' => 'tva3310ca3_KC')))
  ),
  'EB' => array('type' => 'checkbox',
                'value' => '1',
                'operations' => array($operations['if-eb-checked-ea-required']),
  ),
  'EA' => array('type' => 'comments',
                'length' => 2560,
                'operations' => array($operations['if-eb-checked-ea-required']),
  ),
  'EA1' => array('type' => 'hidden',
                 'length' => 512,
  ),
  'EA2' => array('type' => 'hidden',
                 'length' => 512,
  ),
  'EA3' => array('type' => 'hidden',
                 'length' => 512,
  ),
  'EA4' => array('type' => 'hidden',
                 'length' => 512,
  ),
  'EA5' => array('type' => 'hidden',
                 'length' => 512,
  ),
);
